<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DB Learn - Educational Database Tools</title>
    <link rel="stylesheet" href="output.css">
</head>
<body class="bg-base-100 text-base-content min-h-screen">

    <!-- Main Container -->
    <div class="flex h-screen overflow-hidden">

        <!-- App Panel (Left 1/3) -->
        <div class="w-1/3 min-w-80 bg-base-200 flex flex-col border-r border-neutral">

            <!-- App Header with Tool Switcher -->
            <header class="p-4 bg-base-300 border-b border-neutral">
                <div class="dropdown">
                    <button tabindex="0" class="btn btn-ghost gap-2 text-xl font-semibold px-2 -ml-2">
                        <span id="currentToolIcon">‚è±Ô∏è</span>
                        <span id="currentToolName">Time Tracker</span>
                        <svg class="w-4 h-4 opacity-60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <ul tabindex="0" class="dropdown-content menu bg-base-300 rounded-box w-56 p-2 shadow-lg border border-neutral z-50">
                        <li><a onclick="switchTool('time-tracker')" class="flex gap-3">
                            <span>‚è±Ô∏è</span> Time Tracker
                        </a></li>
                        <li><a onclick="switchTool('habit-tracker')" class="flex gap-3">
                            <span>‚úÖ</span> Habit Tracker
                        </a></li>
                    </ul>
                </div>
                <p class="text-sm text-neutral-content mt-1" id="toolSubtitle">Track time spent on tasks</p>
            </header>

            <!-- Tool Content Area -->
            <main class="flex-1 overflow-y-auto" id="appContent">
                <!-- Tool-specific content loads here -->
            </main>
        </div>

        <!-- Database Panel (Right 2/3) -->
        <div class="flex-1 bg-base-100 flex flex-col overflow-hidden">

            <!-- DB Header -->
            <header class="p-4 bg-base-200 border-b border-neutral flex justify-between items-start">
                <div>
                    <h1 class="text-xl font-semibold flex items-center gap-2">
                        <span>üóÑÔ∏è</span> Database Tables
                    </h1>
                    <p class="text-sm text-neutral-content mt-1">See the data behind the app</p>
                </div>
                <button class="btn btn-sm btn-outline" onclick="openErdModal()">
                    View ERD
                </button>
            </header>

            <!-- DB Content -->
            <div class="flex-1 p-4 flex flex-col gap-4 overflow-hidden" id="dbContent">
                <!-- Database tables load here -->
            </div>
        </div>
    </div>

    <!-- ERD Modal -->
    <dialog id="erdModal" class="modal">
        <div class="modal-box max-w-4xl bg-base-200">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold">Entity Relationship Diagram</h3>
                <form method="dialog">
                    <button class="btn btn-sm btn-ghost">‚úï</button>
                </form>
            </div>
            <div id="erdContent">
                <!-- ERD content loads here -->
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- Sessions Modal -->
    <dialog id="sessionsModal" class="modal">
        <div class="modal-box max-w-2xl bg-base-200">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold" id="sessionsModalTitle">Work Sessions</h3>
                <form method="dialog">
                    <button class="btn btn-sm btn-ghost">‚úï</button>
                </form>
            </div>
            <div id="sessionsModalContent">
                <!-- Sessions content loads here -->
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- Code Explanation Modal -->
    <dialog id="codeExplainModal" class="modal">
        <div class="modal-box max-w-3xl bg-base-200">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                    <span>üìñ</span>
                    <span id="codeExplainTitle">How This Works</span>
                </h3>
                <form method="dialog">
                    <button class="btn btn-sm btn-ghost">‚úï</button>
                </form>
            </div>
            <div id="codeExplainContent">
                <!-- Code explanation loads here -->
            </div>
            <div class="mt-4 pt-4 border-t border-neutral">
                <div class="text-xs text-neutral-content/60 text-center">
                    üí° Hold <kbd class="kbd kbd-xs">Alt</kbd> / <kbd class="kbd kbd-xs">Option</kbd> and click any button to see how it works
                </div>
            </div>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

    <!-- Shared JavaScript -->
    <script src="shared.js"></script>
    <script src="time-tracker.js"></script>
    <script src="habit-tracker.js"></script>
    <script src="app.js"></script>
</body>
</html>
